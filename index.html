<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome to FocusPath</title>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#0d78f2" />
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <style>
    body {
      font-family: 'Lexend', sans-serif;
      background: linear-gradient(120deg, #e0e7ff 0%, #f0f2f5 100%);
      min-height: 100vh;
      overflow-x: hidden;
      transition: background 0.5s;
    }
    .welcome-container { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; position: relative; }
    .welcome-card { background: rgba(255,255,255,0.95); border-radius: 2rem; box-shadow: 0 8px 32px rgba(13,120,242,0.12); padding: 3rem 2rem; max-width: 520px; text-align: center; z-index: 2; animation: fadeInUp 1.2s cubic-bezier(.23,1.01,.32,1) both; }
    .welcome-title { font-size: 2.8rem; font-weight: 800; color: #0d78f2; margin-bottom: 0.5rem; letter-spacing: -1px; }
    .welcome-desc { font-size: 1.25rem; color: #60748a; margin-bottom: 2rem; }
    .welcome-btn { background: linear-gradient(90deg,#0d78f2 60%,#4f8cff 100%); color: #fff; font-weight: 700; border-radius: 0.75rem; padding: 1rem 2.5rem; font-size: 1.2rem; box-shadow: 0 2px 12px rgba(13,120,242,0.10); transition: background 0.2s, transform 0.2s; text-decoration: none; display: inline-block; animation: fadeIn 2.2s 1.2s both; }
    .welcome-btn:hover { background: linear-gradient(90deg,#095bb5 60%,#0d78f2 100%); transform: scale(1.04); }
    .footer { font-size: 12px; color: #60748a; text-align: center; position: fixed; left: 0; right: 0; bottom: 0; z-index: 9999; background: rgba(240,242,245,0.95); pointer-events: none; box-shadow: 0 -2px 8px rgba(0,0,0,0.04); }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(60px) scale(0.98); } to { opacity: 1; transform: translateY(0) scale(1); } }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .bubble { position: absolute; border-radius: 50%; opacity: 0.18; pointer-events: none; animation: bubbleFloat 12s infinite linear; }
    @keyframes bubbleFloat { 0% { transform: translateY(0) scale(1); opacity: 0.18; } 50% { transform: translateY(-60px) scale(1.08); opacity: 0.28; } 100% { transform: translateY(0) scale(1); opacity: 0.18; } }
    body[data-theme="dark"] {
      background: linear-gradient(120deg, #1e293b 0%, #334155 100%);
    }
    body[data-theme="dark"] .welcome-card {
      background: rgba(30,41,59,0.98);
      color: #e0e7ff;
      box-shadow: 0 8px 32px rgba(13,120,242,0.18);
    }
    body[data-theme="dark"] .welcome-title {
      color: #60a5fa;
    }
    body[data-theme="dark"] .welcome-desc {
      color: #a5b4fc;
    }
    body[data-theme="dark"] .footer {
      background: rgba(30,41,59,0.95);
      color: #a5b4fc;
    }
    /* Modal Background */
    .modal {
      display: none;
      position: fixed;
      z-index: 100;
      left: 0; top: 0;
      width: 100vw; height: 100vh;
      background: rgba(0,0,0,0.5);
      align-items: center; justify-content: center;
    }
    .modal-content {
      background: #fff;
      color: #111418;
      padding: 2.5rem 2rem;
      border-radius: 1.5rem;
      width: 400px;
      box-shadow: 0 8px 32px rgba(13,120,242,0.18);
      position: relative;
      text-align: center;
      animation: fadeInUp 0.7s cubic-bezier(.23,1.01,.32,1) both;
      transition: background 0.4s, color 0.4s;
    }
    body[data-theme="dark"] .modal-content {
      background: #1e293b;
      color: #e0e7ff;
    }
    .modal-content input {
      border: 1px solid #e5e7eb;
      border-radius: 0.5rem;
      font-size: 1rem;
      background: #f0f2f5;
      color: #111418;
      transition: background 0.3s, color 0.3s;
    }
    body[data-theme="dark"] .modal-content input {
      background: #334155;
      color: #e0e7ff;
      border: 1px solid #4f8cff;
    }
    .modal-content input:focus {
      outline: 2px solid #0d78f2;
      background: #e6f2ff;
    }
    body[data-theme="dark"] .modal-content input:focus {
      outline: 2px solid #4f8cff;
      background: #1e293b;
    }
    .modal-content button {
      background: linear-gradient(90deg,#0d78f2 60%,#4f8cff 100%);
      color: #fff;
      font-weight: 700;
      border-radius: 0.75rem;
      font-size: 1.1rem;
      box-shadow: 0 2px 12px rgba(13,120,242,0.10);
      transition: background 0.2s, transform 0.2s;
    }
    .modal-content button:hover {
      background: linear-gradient(90deg,#095bb5 60%,#0d78f2 100%);
      transform: scale(1.04);
    }
    .close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      font-size: 1.5rem;
      cursor: pointer;
      color: #666;
      transition: color 0.2s;
      user-select: none;
    }
    .close:hover { color: #0d78f2; }
  </style>
</head>
<body>
  <div style="position:fixed;top:24px;right:32px;z-index:10001;">
    <select id="languageSelect" style="padding:0.5rem 1.2rem;border-radius:0.7rem;font-weight:600;background:#0d78f2;color:#fff;border:none;box-shadow:0 2px 8px rgba(13,120,242,0.10);font-size:1rem;">
      <option value="en">English</option>
      <option value="es">Español</option>
    </select>
  </div>
  <div class="welcome-container">
    <div class="welcome-card">
      <div class="welcome-title" id="welcomeTitle">Welcome to FocusPath!</div>
      <div class="welcome-desc" id="welcomeDesc">Where Studying Shouldn't Break the Bank.<br>Organize, learn, and achieve your goals for free.<br><span style="font-size:1.1rem;color:#0d78f2;font-weight:600;">Your journey starts here.</span></div>
      <div class="welcome-btn-group" style="display:flex;flex-direction:column;gap:1rem;align-items:center;animation:fadeIn 2.2s 1.2s both;">
        <a href="signup.html" class="welcome-btn" id="newUserBtn">New User</a>
        <a href="login.html" class="welcome-btn" id="loginBtn" style="background:linear-gradient(90deg,#4f8cff 60%,#0d78f2 100%);">Login</a>
      </div>
    </div>
    <!-- Animated bubbles -->
    <div class="bubble" style="width:120px;height:120px;left:8vw;top:18vh;background:#0d78f2;animation-delay:0s;"></div>
    <div class="bubble" style="width:80px;height:80px;left:70vw;top:10vh;background:#4f8cff;animation-delay:2s;"></div>
    <div class="bubble" style="width:100px;height:100px;left:50vw;top:70vh;background:#a5b4fc;animation-delay:4s;"></div>
    <div class="bubble" style="width:60px;height:60px;left:20vw;top:80vh;background:#0d78f2;animation-delay:6s;"></div>
    <div class="bubble" style="width:90px;height:90px;left:80vw;top:60vh;background:#4f8cff;animation-delay:8s;"></div>
  </div>
  <div class="footer">© FocusPath 2025. 4a4152564953 Applications EST. 2025</div>

  <!-- Signup Modal -->
  <div id="signupModal" class="modal">
    <div class="modal-content" id="signupModalContent" style="position:relative;">
      <span class="close" onclick="closeSignupModal()" style="position:absolute;top:1rem;right:1rem;">&times;</span>
      <h3>Create Account</h3>
      <form id="signupForm" style="display:flex;flex-direction:column;align-items:center;gap:1rem;">
        <input id="signupFirstName" type="text" placeholder="First Name" required style="width:90%;padding:0.7rem;">
        <input id="signupLastName" type="text" placeholder="Last Name" required style="width:90%;padding:0.7rem;">
        <input id="signupUsername" type="text" placeholder="Username" required style="width:90%;padding:0.7rem;">
        <input id="signupAge" type="number" min="10" max="120" placeholder="Age" required style="width:90%;padding:0.7rem;">
        <input id="signupSchool" type="text" placeholder="School" required style="width:90%;padding:0.7rem;">
        <input id="signupEmail" type="email" placeholder="Email" required style="width:90%;padding:0.7rem;">
        <input id="signupPassword" type="password" placeholder="Password" required style="width:90%;padding:0.7rem;">
        <button type="submit" style="width:100%;padding:0.9rem 0;background:#0d78f2;color:#fff;font-weight:600;border:none;border-radius:0.5rem;font-size:1.1rem;">Sign Up</button>
      </form>
    </div>
  </div>

  <!-- Login Modal -->
  <div id="loginModal" class="modal">
    <div class="modal-content" id="loginModalContent" style="position:relative;">
      <span class="close" onclick="closeLoginModal()" style="position:absolute;top:1rem;right:1rem;">&times;</span>
      <h3>Login</h3>
      <form id="loginForm" style="display:flex;flex-direction:column;align-items:center;gap:1rem;">
        <input id="loginEmail" type="email" placeholder="Email" required style="width:90%;padding:0.7rem;">
        <input id="loginPassword" type="password" placeholder="Password" required style="width:90%;padding:0.7rem;">
        <label style="width:90%;text-align:left;font-size:0.98rem;color:#60748a;display:flex;align-items:center;gap:0.5rem;">
          <input id="loginRemember" type="checkbox" style="margin-right:0.5rem;"> Remember Me
        </label>
        <button type="submit" style="width:100%;padding:0.9rem 0;background:#4f8cff;color:#fff;font-weight:600;border:none;border-radius:0.5rem;font-size:1.1rem;">Login</button>
      </form>
    </div>
  </div>

  <script>
    // Language switching
    const languageData = {
      en: {
        title: "Welcome to FocusPath!",
        desc: "Where Studying Shouldn't Break the Bank.<br>Organize, learn, and achieve your goals for free.<br><span style='font-size:1.1rem;color:#0d78f2;font-weight:600;'>Your journey starts here.</span>",
        newUser: "New User",
        login: "Login",
        signup: {
          firstName: "First Name",
          lastName: "Last Name",
          username: "Username",
          age: "Age",
          school: "School",
          email: "Email",
          password: "Password",
          button: "Sign Up",
          title: "Create Account"
        },
        loginModal: {
          email: "Email",
          password: "Password",
          remember: "Remember Me",
          button: "Login",
          title: "Login"
        }
      },
      es: {
        title: "¡Bienvenido a FocusPath!",
        desc: "Donde estudiar no debería costar una fortuna.<br>Organiza, aprende y alcanza tus metas gratis.<br><span style='font-size:1.1rem;color:#0d78f2;font-weight:600;'>Tu viaje comienza aquí.</span>",
        newUser: "Nuevo Usuario",
        login: "Iniciar Sesión",
        signup: {
          firstName: "Nombre",
          lastName: "Apellido",
          username: "Usuario",
          age: "Edad",
          school: "Escuela",
          email: "Correo electrónico",
          password: "Contraseña",
          button: "Registrarse",
          title: "Crear Cuenta"
        },
        loginModal: {
          email: "Correo electrónico",
          password: "Contraseña",
          remember: "Recuérdame",
          button: "Iniciar Sesión",
          title: "Iniciar Sesión"
        }
      }
    };
    document.addEventListener('DOMContentLoaded', function() {
      var langSelect = document.getElementById('languageSelect');
      var welcomeTitle = document.getElementById('welcomeTitle');
      var welcomeDesc = document.getElementById('welcomeDesc');
      var newUserBtn = document.getElementById('newUserBtn');
      var loginBtn = document.getElementById('loginBtn');
      // Load language from localStorage
      var lang = localStorage.getItem('fpLang') || 'en';
      langSelect.value = lang;
      welcomeTitle.innerHTML = languageData[lang].title;
      welcomeDesc.innerHTML = languageData[lang].desc;
      newUserBtn.textContent = languageData[lang].newUser;
      loginBtn.textContent = languageData[lang].login;
      function updateInputs(lang) {
        // Signup modal
        var signupTitle = document.querySelector('#signupModalContent h3');
        if(signupTitle) signupTitle.textContent = languageData[lang].signup.title;
        var signupFirstName = document.getElementById('signupFirstName');
        if(signupFirstName) signupFirstName.placeholder = languageData[lang].signup.firstName;
        var signupLastName = document.getElementById('signupLastName');
        if(signupLastName) signupLastName.placeholder = languageData[lang].signup.lastName;
        var signupUsername = document.getElementById('signupUsername');
        if(signupUsername) signupUsername.placeholder = languageData[lang].signup.username;
        var signupAge = document.getElementById('signupAge');
        if(signupAge) signupAge.placeholder = languageData[lang].signup.age;
        var signupSchool = document.getElementById('signupSchool');
        if(signupSchool) signupSchool.placeholder = languageData[lang].signup.school;
        var signupEmail = document.getElementById('signupEmail');
        if(signupEmail) signupEmail.placeholder = languageData[lang].signup.email;
        var signupPassword = document.getElementById('signupPassword');
        if(signupPassword) signupPassword.placeholder = languageData[lang].signup.password;
        var signupBtn = document.querySelector('#signupForm button[type="submit"]');
        if(signupBtn) signupBtn.textContent = languageData[lang].signup.button;
        // Login modal
        var loginTitle = document.querySelector('#loginModalContent h3');
        if(loginTitle) loginTitle.textContent = languageData[lang].loginModal.title;
        var loginEmail = document.getElementById('loginEmail');
        if(loginEmail) loginEmail.placeholder = languageData[lang].loginModal.email;
        var loginPassword = document.getElementById('loginPassword');
        if(loginPassword) loginPassword.placeholder = languageData[lang].loginModal.password;
        var loginRemember = document.getElementById('loginRemember');
        if(loginRemember && loginRemember.nextSibling) loginRemember.nextSibling.textContent = languageData[lang].loginModal.remember;
        var loginBtnModal = document.querySelector('#loginForm button[type="submit"]');
        if(loginBtnModal) loginBtnModal.textContent = languageData[lang].loginModal.button;
      }
      updateInputs(lang);
      langSelect.addEventListener('change', function() {
        var lang = langSelect.value;
        localStorage.setItem('fpLang', lang);
        welcomeTitle.innerHTML = languageData[lang].title;
        welcomeDesc.innerHTML = languageData[lang].desc;
        newUserBtn.textContent = languageData[lang].newUser;
        loginBtn.textContent = languageData[lang].login;
        updateInputs(lang);
      });
    });
    // System theme detection
    function applySystemTheme() {
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      document.body.setAttribute('data-theme', prefersDark ? 'dark' : 'light');
    }
    applySystemTheme();
    if(window.matchMedia) {
      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', applySystemTheme);
    }
    // Fade out transition on New User/Login
    document.addEventListener('DOMContentLoaded', function() {
      document.body.style.opacity = '1';
      document.body.style.transition = 'opacity 0.7s cubic-bezier(.23,1.01,.32,1)';
      var newUserBtn = document.getElementById('newUserBtn');
      var loginBtn = document.getElementById('loginBtn');
      function fadeTo(url) {
        document.body.style.opacity = '0';
        setTimeout(function() {
          window.location.href = url;
        }, 700);
      }
      if(newUserBtn) newUserBtn.addEventListener('click', function(e) {
        e.preventDefault();
        openSignupModal();
      });
      if(loginBtn) loginBtn.addEventListener('click', function(e) {
        e.preventDefault();
        openLoginModal();
      });
      // Signup form submit
      var signupForm = document.getElementById('signupForm');
      if(signupForm) {
        signupForm.addEventListener('submit', function(e) {
          e.preventDefault();
          signup();
        });
      }
      // Login form submit
      var loginForm = document.getElementById('loginForm');
      if(loginForm) {
        loginForm.addEventListener('submit', function(e) {
          e.preventDefault();
          login();
        });
      }
    });
    // Modal logic
    window.openSignupModal = function() {
      document.getElementById("signupModal").style.display = "flex";
    };
    window.closeSignupModal = function() {
      document.getElementById("signupModal").style.display = "none";
    };
    window.openLoginModal = function() {
      document.getElementById("loginModal").style.display = "flex";
    };
    window.closeLoginModal = function() {
      document.getElementById("loginModal").style.display = "none";
    };
    window.signup = async function() {
      const firstName = document.getElementById("signupFirstName").value.trim();
      const lastName = document.getElementById("signupLastName").value.trim();
      const username = document.getElementById("signupUsername").value.trim();
      const age = document.getElementById("signupAge").value.trim();
      const school = document.getElementById("signupSchool").value.trim();
      const email = document.getElementById("signupEmail").value.trim();
      const password = document.getElementById("signupPassword").value;
      if(!firstName || !lastName || !username || !age || !school || !email || !password) {
        alert("Please fill out all fields.");
        return;
      }
      // Store user info in localStorage for testing
      const user = { firstName, lastName, username, age, school, email, password };
      localStorage.setItem('fpTestUser', JSON.stringify(user));
      alert(`Signed up as ${firstName} ${lastName} (Username: ${username}, Age: ${age}, School: ${school}, Email: ${email})`);
      closeSignupModal();
      setTimeout(function(){ window.location.href = 'home.html'; }, 500);
    };
    window.login = async function() {
      const email = document.getElementById("loginEmail").value.trim();
      const password = document.getElementById("loginPassword").value;
      const remember = document.getElementById("loginRemember").checked;
      if(!email || !password) {
        alert("Please enter email and password.");
        return;
      }
      // Validate against localStorage user
      const user = JSON.parse(localStorage.getItem('fpTestUser') || '{}');
      if(user.email === email && user.password === password) {
        if(remember) {
          localStorage.setItem('fpLoginEmail', email);
          localStorage.setItem('fpLoginRemember', '1');
        } else {
          localStorage.removeItem('fpLoginEmail');
          localStorage.removeItem('fpLoginRemember');
        }
        alert(`Logged in as ${email}${remember ? ' (Remembered)' : ''}`);
        closeLoginModal();
        // Simulate redirect to app
        setTimeout(function(){ window.location.href = 'home.html'; }, 500);
      } else {
        alert("Invalid email or password.");
      }
    };
    // Autofill remembered login
    document.addEventListener('DOMContentLoaded', function() {
      if(localStorage.getItem('fpLoginRemember') === '1') {
        var loginEmail = document.getElementById('loginEmail');
        if(loginEmail) loginEmail.value = localStorage.getItem('fpLoginEmail') || '';
        var loginRemember = document.getElementById('loginRemember');
        if(loginRemember) loginRemember.checked = true;
      }
    });
  </script>
</body>
</html>
